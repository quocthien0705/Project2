{"version":3,"file":"BodyScoper.js","sourceRoot":"","sources":["../../../../packages/roosterjs-editor-dom/lib/contentTraverser/BodyScoper.ts"],"names":[],"mappings":";;;IAQA;;;OAGG;IACH;QAGI;;;;WAIG;QACH,oBAAmB,QAAc,EAAE,SAAgB;YAAhC,aAAQ,GAAR,QAAQ,CAAM;YAC7B,IAAI,CAAC,SAAS,GAAG,IAAA,kBAAQ,EAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,SAAU,CAAC,CAAC,CAAC,IAAI,CAAC;QACvE,CAAC;QAED;;WAEG;QACI,yCAAoB,GAA3B;YACI,OAAO,IAAI,CAAC,SAAS;gBACjB,CAAC,CAAC,IAAA,+BAAqB,EAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC;gBACtD,CAAC,CAAC,IAAA,kCAAwB,EAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACpE,CAAC;QAED;;WAEG;QACI,0CAAqB,GAA5B;YACI,OAAO,IAAI,CAAC,SAAS;gBACjB,CAAC,CAAC,IAAA,gCAAsB,EAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC;gBACvD,CAAC,CAAC,IAAA,iDAAqB,EAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/C,CAAC;QAED;;WAEG;QACI,mCAAc,GAArB,UAAsB,YAA0B;YAC5C,OAAO,IAAA,kBAAQ,EAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC;QAChE,CAAC;QAED;;WAEG;QACI,sCAAiB,GAAxB,UAAyB,aAA4B;YACjD,OAAO,aAAa,CAAC;QACzB,CAAC;QACL,iBAAC;IAAD,CAAC,AA3CD,IA2CC","sourcesContent":["import contains from '../utils/contains';\r\nimport getBlockElementAtNode from '../blockElements/getBlockElementAtNode';\r\nimport getFirstLastBlockElement from '../blockElements/getFirstLastBlockElement';\r\nimport getInlineElementAtNode from '../inlineElements/getInlineElementAtNode';\r\nimport { getFirstInlineElement } from '../inlineElements/getFirstLastInlineElement';\r\nimport type TraversingScoper from './TraversingScoper';\r\nimport type { BlockElement, InlineElement } from 'roosterjs-editor-types';\r\n\r\n/**\r\n * @internal\r\n * provides a scope object for traversing the entire editor body starting from the beginning\r\n */\r\nexport default class BodyScoper implements TraversingScoper {\r\n    private startNode: Node | null;\r\n\r\n    /**\r\n     * Construct a new instance of BodyScoper class\r\n     * @param rootNode Root node of the body\r\n     * @param startNode The node to start from. If not passed, it will start from the beginning of the body\r\n     */\r\n    constructor(public rootNode: Node, startNode?: Node) {\r\n        this.startNode = contains(rootNode, startNode) ? startNode! : null;\r\n    }\r\n\r\n    /**\r\n     * Get the start block element\r\n     */\r\n    public getStartBlockElement(): BlockElement | null {\r\n        return this.startNode\r\n            ? getBlockElementAtNode(this.rootNode, this.startNode)\r\n            : getFirstLastBlockElement(this.rootNode, true /*isFirst*/);\r\n    }\r\n\r\n    /**\r\n     * Get the start inline element\r\n     */\r\n    public getStartInlineElement(): InlineElement | null {\r\n        return this.startNode\r\n            ? getInlineElementAtNode(this.rootNode, this.startNode)\r\n            : getFirstInlineElement(this.rootNode);\r\n    }\r\n\r\n    /**\r\n     * Since the scope is global, all blocks under the root node are in scope\r\n     */\r\n    public isBlockInScope(blockElement: BlockElement): boolean {\r\n        return contains(this.rootNode, blockElement.getStartNode());\r\n    }\r\n\r\n    /**\r\n     * Since we're at body scope, inline elements never need to be trimmed\r\n     */\r\n    public trimInlineElement(inlineElement: InlineElement): InlineElement {\r\n        return inlineElement;\r\n    }\r\n}\r\n"]}