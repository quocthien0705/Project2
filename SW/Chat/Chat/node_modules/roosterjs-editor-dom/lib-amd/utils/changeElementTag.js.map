{"version":3,"file":"changeElementTag.js","sourceRoot":"","sources":["../../../../packages/roosterjs-editor-dom/lib/utils/changeElementTag.ts"],"names":[],"mappings":";;;IAuBA,SAAwB,gBAAgB,CAAC,OAAoB,EAAE,MAAc;;QACzE,IAAI,CAAC,OAAO,IAAI,CAAC,MAAM,EAAE;YACrB,OAAO,IAAI,CAAC;SACf;QAED,IAAM,WAAW,GAAG,IAAA,sBAAY,EAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,WAAW,IAAI,MAAM,CAAC,WAAW,EAAE,EAAE;YACrC,+CAA+C;YAC/C,OAAO,OAAO,CAAC;SAClB;QAED,IAAM,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAE/D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAChD,IAAM,IAAI,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACnC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SAClD;QAED,IAAA,wBAAc,EAAC,UAAU,EAAE,OAAO,CAAC,CAAC;QAEpC,IAAI,WAAW,IAAI,GAAG,IAAI,IAAA,sBAAY,EAAC,UAAU,CAAC,IAAI,GAAG,EAAE;YACvD,KAAA,oBAA8D,IAAA,2BAAiB,EAAC,OAAO,EAAE;gBACrF,YAAY;gBACZ,eAAe;aAClB,CAAC,IAAA,EAHD,UAAU,CAAC,KAAK,CAAC,SAAS,QAAA,EAAE,UAAU,CAAC,KAAK,CAAC,YAAY,QAAA,CAGvD;SACN;QAED,IAAI,OAAO,CAAC,UAAU,EAAE;YACpB,OAAO,CAAC,UAAU,CAAC,YAAY,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;SACxD;QAED,OAAO,UAAU,CAAC;IACtB,CAAC;IAjCD,mCAiCC","sourcesContent":["import getComputedStyles from './getComputedStyles';\r\nimport getTagOfNode from './getTagOfNode';\r\nimport moveChildNodes from './moveChildNodes';\r\n\r\n/**\r\n * Change tag of an HTML Element to a new one, and replace it from DOM tree\r\n * @param element The element to change tag\r\n * @param newTag New tag to change to\r\n * @returns The new element with new tag\r\n */\r\nexport default function changeElementTag<K extends keyof HTMLElementTagNameMap>(\r\n    element: HTMLElement,\r\n    newTag: K\r\n): HTMLElementTagNameMap[K];\r\n\r\n/**\r\n * Change tag of an HTML Element to a new one, and replace it from DOM tree\r\n * @param element The element to change tag\r\n * @param newTag New tag to change to\r\n * @returns The new element with new tag\r\n */\r\nexport default function changeElementTag(element: HTMLElement, newTag: string): HTMLElement | null;\r\n\r\nexport default function changeElementTag(element: HTMLElement, newTag: string): HTMLElement | null {\r\n    if (!element || !newTag) {\r\n        return null;\r\n    }\r\n\r\n    const origianlTag = getTagOfNode(element);\r\n\r\n    if (origianlTag == newTag.toUpperCase()) {\r\n        // Already in the target tag, no need to change\r\n        return element;\r\n    }\r\n\r\n    const newElement = element.ownerDocument.createElement(newTag);\r\n\r\n    for (let i = 0; i < element.attributes.length; i++) {\r\n        const attr = element.attributes[i];\r\n        newElement.setAttribute(attr.name, attr.value);\r\n    }\r\n\r\n    moveChildNodes(newElement, element);\r\n\r\n    if (origianlTag == 'P' || getTagOfNode(newElement) == 'P') {\r\n        [newElement.style.marginTop, newElement.style.marginBottom] = getComputedStyles(element, [\r\n            'margin-top',\r\n            'margin-bottom',\r\n        ]);\r\n    }\r\n\r\n    if (element.parentNode) {\r\n        element.parentNode.replaceChild(newElement, element);\r\n    }\r\n\r\n    return newElement;\r\n}\r\n"]}