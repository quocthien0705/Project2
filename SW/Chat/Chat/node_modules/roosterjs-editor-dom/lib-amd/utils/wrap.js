define(["require", "exports", "tslib", "./createElement", "./fromHtml", "./safeInstanceOf"], function (require, exports, tslib_1, createElement_1, fromHtml_1, safeInstanceOf_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function wrap(nodes, wrapper) {
        var e_1, _a;
        nodes = !nodes ? [] : (0, safeInstanceOf_1.default)(nodes, 'Node') ? [nodes] : nodes;
        if (nodes.length == 0 || !nodes[0] || !nodes[0].ownerDocument) {
            return null;
        }
        if (!wrapper) {
            wrapper = 'div';
        }
        if (!(0, safeInstanceOf_1.default)(wrapper, 'HTMLElement')) {
            var document_1 = nodes[0].ownerDocument;
            if (typeof wrapper === 'string') {
                wrapper = /^\w+$/.test(wrapper)
                    ? document_1.createElement(wrapper)
                    : (0, fromHtml_1.default)(wrapper, document_1)[0]; // This will be removed in next major release
            }
            else {
                wrapper = (0, createElement_1.default)(wrapper, document_1);
            }
        }
        var parentNode = nodes[0].parentNode;
        if (parentNode) {
            parentNode.insertBefore(wrapper, nodes[0]);
        }
        try {
            for (var nodes_1 = (0, tslib_1.__values)(nodes), nodes_1_1 = nodes_1.next(); !nodes_1_1.done; nodes_1_1 = nodes_1.next()) {
                var node = nodes_1_1.value;
                wrapper.appendChild(node);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (nodes_1_1 && !nodes_1_1.done && (_a = nodes_1.return)) _a.call(nodes_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return wrapper;
    }
    exports.default = wrap;
});
//# sourceMappingURL=wrap.js.map