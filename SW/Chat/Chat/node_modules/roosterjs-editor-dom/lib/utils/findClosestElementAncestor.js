"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var contains_1 = require("./contains");
var matchesSelector_1 = require("./matchesSelector");
/**
 * Find closest element ancestor start from the given node which matches the given selector
 * @param node Find ancestor start from this node
 * @param root Root node where the search should stop at. The return value can never be this node
 * @param selector The expected selector. If null, return the first HTML Element found from start node
 * @returns An HTML element which matches the given selector. If the given start node matches the selector,
 * returns the given node
 */
function findClosestElementAncestor(node, root, selector) {
    node = !node ? null : node.nodeType == 1 /* Element */ ? node : node.parentNode;
    var element = node && node.nodeType == 1 /* Element */ ? node : null;
    if (element && selector) {
        if (element.closest) {
            element = element.closest(selector);
        }
        else {
            while (element && element != root && !(0, matchesSelector_1.default)(element, selector)) {
                element = element.parentElement;
            }
        }
    }
    return !root || (0, contains_1.default)(root, element) ? element : null;
}
exports.default = findClosestElementAncestor;
//# sourceMappingURL=findClosestElementAncestor.js.map