{"version":3,"file":"getEntityFromElement.js","sourceRoot":"","sources":["../../../../packages/roosterjs-editor-dom/lib/entity/getEntityFromElement.ts"],"names":[],"mappings":";;AAGA;;;;GAIG;AACH,SAAwB,oBAAoB,CAAC,OAAoB;;IAC7D,IAAI,QAAQ,GAAG,KAAK,CAAC;IACrB,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,IAAI,EAAE,GAAG,EAAE,CAAC;IACZ,IAAI,UAAU,GAAG,KAAK,CAAC;IAEvB,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,SAAS,0CAAE,KAAK,CAAC,GAAG,EAAE,OAAO,CAAC,UAAA,IAAI;QACvC,IAAI,IAAI,oCAAkC,EAAE;YACxC,QAAQ,GAAG,IAAI,CAAC;SACnB;aAAM,IAAI,IAAI,CAAC,OAAO,oCAAkC,IAAI,CAAC,EAAE;YAC5D,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,mCAAiC,MAAM,CAAC,CAAC;SAC/D;aAAM,IAAI,IAAI,CAAC,OAAO,gCAAgC,IAAI,CAAC,EAAE;YAC1D,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,+BAA+B,MAAM,CAAC,CAAC;SAC3D;aAAM,IAAI,IAAI,CAAC,OAAO,4CAAsC,IAAI,CAAC,EAAE;YAChE,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,2CAAqC,MAAM,CAAC,IAAI,GAAG,CAAC;SAChF;IACL,CAAC,CAAC,CAAC;IAEH,OAAO,QAAQ;QACX,CAAC,CAAC;YACI,OAAO,EAAE,OAAO;YAChB,EAAE,IAAA;YACF,IAAI,MAAA;YACJ,UAAU,YAAA;SACb;QACH,CAAC,CAAC,IAAI,CAAC;AACf,CAAC;AA1BD,uCA0BC","sourcesContent":["import { EntityClasses } from 'roosterjs-editor-types';\nimport type { Entity } from 'roosterjs-editor-types';\n\n/**\n * Get Entity object from an entity root element\n * @param element The entity root element. If this element is not an entity root element,\n * it will return null\n */\nexport default function getEntityFromElement(element: HTMLElement): Entity | null {\n    let isEntity = false;\n    let type = '';\n    let id = '';\n    let isReadonly = false;\n\n    element?.className?.split(' ').forEach(name => {\n        if (name == EntityClasses.ENTITY_INFO_NAME) {\n            isEntity = true;\n        } else if (name.indexOf(EntityClasses.ENTITY_TYPE_PREFIX) == 0) {\n            type = name.substr(EntityClasses.ENTITY_TYPE_PREFIX.length);\n        } else if (name.indexOf(EntityClasses.ENTITY_ID_PREFIX) == 0) {\n            id = name.substr(EntityClasses.ENTITY_ID_PREFIX.length);\n        } else if (name.indexOf(EntityClasses.ENTITY_READONLY_PREFIX) == 0) {\n            isReadonly = name.substr(EntityClasses.ENTITY_READONLY_PREFIX.length) == '1';\n        }\n    });\n\n    return isEntity\n        ? {\n              wrapper: element,\n              id,\n              type,\n              isReadonly,\n          }\n        : null;\n}\n"]}