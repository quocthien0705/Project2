{"version":3,"file":"isPositionAtBeginningOf.js","sourceRoot":"","sources":["../../../../packages/roosterjs-editor-dom/lib/selection/isPositionAtBeginningOf.ts"],"names":[],"mappings":"AAAA,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,YAAY,MAAM,uBAAuB,CAAC;AACjD,OAAO,WAAW,MAAM,sBAAsB,CAAC;AAG/C;;;;;;GAMG;AACH,MAAM,CAAC,OAAO,UAAU,uBAAuB,CAAC,QAAsB,EAAE,UAAuB;IAC3F,IAAI,QAAQ,EAAE;QACV,QAAQ,GAAG,QAAQ,CAAC,SAAS,EAAE,CAAC;QAChC,IAAI,IAAI,GAAgB,QAAQ,CAAC,IAAI,CAAC;QACtC,IAAM,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;QAC/B,IAAI,MAAM,IAAI,CAAC,EAAE;YACb,OAAO,IAAI,IAAI,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,wBAAwB,CAAC,IAAI,CAAC,EAAE;gBACzE,IAAI,GAAG,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,UAAU,KAAI,IAAI,CAAC;aACnC;YAED,OAAO,IAAI,IAAI,UAAU,CAAC;SAC7B;KACJ;IAED,OAAO,KAAK,CAAC;AACjB,CAAC;AAED,SAAS,wBAAwB,CAAC,IAAU;IACxC,OAAO,IAAI,CAAC,eAAe,EAAE;QACzB,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC;QAC5B,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;YAClD,OAAO,KAAK,CAAC;SAChB;KACJ;IACD,OAAO,IAAI,CAAC;AAChB,CAAC","sourcesContent":["import contains from '../utils/contains';\r\nimport getTagOfNode from '../utils/getTagOfNode';\r\nimport isNodeEmpty from '../utils/isNodeEmpty';\r\nimport type { NodePosition } from 'roosterjs-editor-types';\r\n\r\n/**\r\n * Check if this position is at beginning of the given node.\r\n * This will return true if all nodes between the beginning of target node and the position are empty.\r\n * @param position The position to check\r\n * @param targetNode The node to check\r\n * @returns True if position is at beginning of the node, otherwise false\r\n */\r\nexport default function isPositionAtBeginningOf(position: NodePosition, targetNode: Node | null) {\r\n    if (position) {\r\n        position = position.normalize();\r\n        let node: Node | null = position.node;\r\n        const offset = position.offset;\r\n        if (offset == 0) {\r\n            while (node && contains(targetNode, node) && areAllPreviousNodesEmpty(node)) {\r\n                node = node?.parentNode || null;\r\n            }\r\n\r\n            return node == targetNode;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction areAllPreviousNodesEmpty(node: Node): boolean {\r\n    while (node.previousSibling) {\r\n        node = node.previousSibling;\r\n        if (getTagOfNode(node) == 'BR' || !isNodeEmpty(node)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n"]}