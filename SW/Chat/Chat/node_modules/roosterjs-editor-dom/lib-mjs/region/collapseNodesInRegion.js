import collapseNode from '../utils/collapseNodes';
import isNodeInRegion from './isNodeInRegion';
import safeInstanceOf from '../utils/safeInstanceOf';
/**
 * Collapse nodes within this region to their common ancestor node under this region
 * @param region The region to collapse nodes in.
 * @param nodesOrBlockElements Nodes or block elements to collapse. When take BlockElement[] as input,
 * start node of the first BlockElement and end node of the last BlockElement will be used as the nodes.
 * All nodes not contained by the given region will be ignored.
 */
export default function collapseNodesInRegion(region, nodesOrBlockElements) {
    if (!nodesOrBlockElements || nodesOrBlockElements.length == 0) {
        return [];
    }
    var nodes = safeInstanceOf(nodesOrBlockElements[0], 'Node')
        ? nodesOrBlockElements
        : [
            nodesOrBlockElements[0].getStartNode(),
            nodesOrBlockElements[nodesOrBlockElements.length - 1].getEndNode(),
        ];
    nodes = nodes && nodes.filter(function (node) { return isNodeInRegion(region, node); });
    var firstNode = nodes[0];
    var lastNode = nodes[nodes.length - 1];
    if (isNodeInRegion(region, firstNode) && isNodeInRegion(region, lastNode)) {
        return collapseNode(region.rootNode, firstNode, lastNode, true /*canSplitParent*/);
    }
    else {
        return [];
    }
}
//# sourceMappingURL=collapseNodesInRegion.js.map