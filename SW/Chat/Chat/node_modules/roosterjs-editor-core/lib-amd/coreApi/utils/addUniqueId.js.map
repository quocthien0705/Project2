{"version":3,"file":"addUniqueId.js","sourceRoot":"","sources":["../../../../../packages/roosterjs-editor-core/lib/coreApi/utils/addUniqueId.ts"],"names":[],"mappings":";;;IAAA;;;;;OAKG;IACH,SAAwB,WAAW,CAAC,EAAe,EAAE,QAAgB;QACjE,IAAM,GAAG,GAAG,EAAE,CAAC,aAAa,CAAC;QAC7B,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YACR,OAAO,CAAC,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC;SAC9B;aAAM;YACH,IAAM,QAAQ,GAAG,GAAG,CAAC,gBAAgB,CAAC,MAAI,EAAE,CAAC,EAAI,CAAC,CAAC;YACnD,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBACzB,OAAO,CAAC,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC;aAC9B;SACJ;IACL,CAAC;IAXD,8BAWC;IAED,SAAS,OAAO,CAAC,EAAe,EAAE,QAAgB,EAAE,GAAa;QAC7D,IAAI,IAAI,GAAG,CAAC,CAAC;QACb,IAAM,UAAU,GAAG,cAAM,OAAA,GAAG,CAAC,cAAc,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAnC,CAAmC,CAAC;QAC7D,oDAAoD;QACpD,IAAI,OAAO,GAAG,UAAU,EAAE,CAAC;QAC3B,OAAO,OAAO,EAAE;YACZ,IAAI,EAAE,CAAC;YACP,OAAO,GAAG,UAAU,EAAE,CAAC;SAC1B;QAED,EAAE,CAAC,EAAE,GAAG,QAAQ,GAAG,IAAI,CAAC;IAC5B,CAAC","sourcesContent":["/**\n * @internal\n * Add an unique id to element and ensure that is unique\n * @param el The HTMLElement that will receive the id\n * @param idPrefix The prefix that will antecede the id (Ex: tableSelected01)\n */\nexport default function addUniqueId(el: HTMLElement, idPrefix: string) {\n    const doc = el.ownerDocument;\n    if (!el.id) {\n        applyId(el, idPrefix, doc);\n    } else {\n        const elements = doc.querySelectorAll(`#${el.id}`);\n        if (elements.length > 1) {\n            el.removeAttribute('id');\n            applyId(el, idPrefix, doc);\n        }\n    }\n}\n\nfunction applyId(el: HTMLElement, idPrefix: string, doc: Document) {\n    let cont = 0;\n    const getElement = () => doc.getElementById(idPrefix + cont);\n    //Ensure that there are no elements with the same ID\n    let element = getElement();\n    while (element) {\n        cont++;\n        element = getElement();\n    }\n\n    el.id = idPrefix + cont;\n}\n"]}