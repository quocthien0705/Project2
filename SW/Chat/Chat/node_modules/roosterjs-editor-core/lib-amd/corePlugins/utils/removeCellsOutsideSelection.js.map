{"version":3,"file":"removeCellsOutsideSelection.js","sourceRoot":"","sources":["../../../../../packages/roosterjs-editor-core/lib/corePlugins/utils/removeCellsOutsideSelection.ts"],"names":[],"mappings":";;;;IAIA;;;;OAIG;IACI,IAAM,2BAA2B,GAAG,UAAC,MAAc;QACtD,IAAI,MAAM,CAAC,SAAS,EAAE;YAClB,IAAI,IAAA,2CAAoB,EAAC,MAAM,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE;gBAChD,OAAO;aACV;YAED,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YAC3C,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAEtC,IAAA,KAA0B,MAAM,CAAC,SAAS,EAAxC,SAAS,eAAA,EAAE,QAAQ,cAAqB,CAAC;YACjD,IAAM,aAAW,GAAc,EAAE,CAAC;YAElC,IAAM,QAAM,GAAG,SAAS,CAAC,CAAC,CAAC;YAC3B,IAAM,QAAM,GAAG,SAAS,CAAC,CAAC,CAAC;YAC3B,IAAM,OAAK,GAAG,QAAQ,CAAC,CAAC,CAAC;YACzB,IAAM,OAAK,GAAG,QAAQ,CAAC,CAAC,CAAC;YAEzB,IAAI,MAAM,CAAC,KAAK,EAAE;gBACd,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,CAAC;oBACxB,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,CAAC,IAAI,QAAM,IAAI,CAAC,IAAI,OAAK,IAAI,CAAC,IAAI,QAAM,IAAI,CAAC,IAAI,OAAK,EAAtD,CAAsD,CAAC,CAAC;oBACnF,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;wBAChB,aAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qBACzB;gBACL,CAAC,CAAC,CAAC;gBACH,MAAM,CAAC,KAAK,GAAG,aAAW,CAAC;aAC9B;SACJ;IACL,CAAC,CAAC;IA3BW,QAAA,2BAA2B,+BA2BtC","sourcesContent":["import { isWholeTableSelected } from 'roosterjs-editor-dom';\nimport type { VTable } from 'roosterjs-editor-dom';\nimport type { VCell } from 'roosterjs-editor-types';\n\n/**\n * @internal\n * Remove the cells outside of the selection.\n * @param vTable VTable to remove selection\n */\nexport const removeCellsOutsideSelection = (vTable: VTable) => {\n    if (vTable.selection) {\n        if (isWholeTableSelected(vTable, vTable.selection)) {\n            return;\n        }\n\n        vTable.table.style.removeProperty('width');\n        vTable.table.style.removeProperty('height');\n\n        const { firstCell, lastCell } = vTable.selection;\n        const resultCells: VCell[][] = [];\n\n        const firstX = firstCell.x;\n        const firstY = firstCell.y;\n        const lastX = lastCell.x;\n        const lastY = lastCell.y;\n\n        if (vTable.cells) {\n            vTable.cells.forEach((row, y) => {\n                row = row.filter((_, x) => y >= firstY && y <= lastY && x >= firstX && x <= lastX);\n                if (row.length > 0) {\n                    resultCells.push(row);\n                }\n            });\n            vTable.cells = resultCells;\n        }\n    }\n};\n"]}