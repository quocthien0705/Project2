{"version":3,"file":"handleKeyUpEvent.js","sourceRoot":"","sources":["../../../../../../packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/keyUtils/handleKeyUpEvent.ts"],"names":[],"mappings":";;;;IAMA,IAAM,kBAAkB,GAAG;;;;;;KAM1B,CAAC;IAEF;;OAEG;IACH,SAAgB,gBAAgB,CAC5B,KAAuB,EACvB,KAA8B,EAC9B,MAAe;QAET,IAAA,KAA+B,KAAK,CAAC,QAAQ,EAA3C,QAAQ,cAAA,EAAE,KAAK,WAAA,EAAE,OAAO,aAAmB,CAAC;QACpD,IACI,CAAC,QAAQ;YACT,CAAC,OAAO;YACR,KAAK,CAAC,WAAW;YACjB,CAAC,KAAK,CAAC,YAAY;YACnB,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EACzC;YACE,IAAI,IAAA,uCAAgB,EAAC,KAAK,CAAC,QAAQ,CAAC,EAAE;gBAClC,MAAM,CAAC,eAAe,EAAE,CAAC;aAC5B;YACD,IAAA,uBAAU,EAAC,KAAK,EAAE,MAAM,CAAC,CAAC;SAC7B;QACD,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;IAC/B,CAAC;IAnBD,4CAmBC","sourcesContent":["import { clearState } from '../utils/clearState';\nimport { isCharacterValue } from 'roosterjs-editor-dom';\nimport { Keys } from 'roosterjs-editor-types';\nimport type { IEditor, PluginKeyUpEvent } from 'roosterjs-editor-types';\nimport type { TableCellSelectionState } from '../TableCellSelectionState';\n\nconst IGNORE_KEY_UP_KEYS = [\n    Keys.SHIFT,\n    Keys.ALT,\n    Keys.META_LEFT,\n    Keys.CTRL_LEFT,\n    Keys.PRINT_SCREEN,\n];\n\n/**\n * @internal\n */\nexport function handleKeyUpEvent(\n    event: PluginKeyUpEvent,\n    state: TableCellSelectionState,\n    editor: IEditor\n) {\n    const { shiftKey, which, ctrlKey } = event.rawEvent;\n    if (\n        !shiftKey &&\n        !ctrlKey &&\n        state.firstTarget &&\n        !state.preventKeyUp &&\n        IGNORE_KEY_UP_KEYS.indexOf(which) == -1\n    ) {\n        if (isCharacterValue(event.rawEvent)) {\n            editor.addUndoSnapshot();\n        }\n        clearState(state, editor);\n    }\n    state.preventKeyUp = false;\n}\n"]}