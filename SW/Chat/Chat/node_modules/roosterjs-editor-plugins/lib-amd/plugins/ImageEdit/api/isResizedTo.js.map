{"version":3,"file":"isResizedTo.js","sourceRoot":"","sources":["../../../../../../packages/roosterjs-editor-plugins/lib/plugins/ImageEdit/api/isResizedTo.ts"],"names":[],"mappings":";;;IAGA;;;;;OAKG;IACH,SAAwB,WAAW,CAC/B,KAAuB,EACvB,UAAkB,EAClB,QAAoB;QAApB,yBAAA,EAAA,YAAoB;QAEpB,IAAM,QAAQ,GAAG,IAAA,+BAAoB,EAAC,KAAK,CAAC,CAAC;QAC7C,qHAAqH;QACrH,IAAM,aAAa,GAAG,QAAQ,CAAC,QAAQ,IAAI,KAAK,CAAC,MAAM,CAAC;QACxD,IAAM,YAAY,GAAG,QAAQ,CAAC,OAAO,IAAI,KAAK,CAAC,KAAK,CAAC;QACrD,IAAI,QAAQ,EAAE;YACJ,IAAA,KAAoB,IAAA,mCAAyB,EAAC,QAAQ,EAAE,UAAU,CAAC,EAAjE,KAAK,WAAA,EAAE,MAAM,YAAoD,CAAC;YAC1E,OAAO,CACH,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,YAAY,CAAC,GAAG,QAAQ,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,aAAa,CAAC,GAAG,QAAQ,CAC3F,CAAC;SACL;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAhBD,8BAgBC","sourcesContent":["import getTargetSizeByPercentage from '../editInfoUtils/getTargetSizeByPercentage';\nimport { getEditInfoFromImage } from '../editInfoUtils/editInfo';\n\n/**\n * Check if the image is already resized to the given percentage\n * @param image The image to check\n * @param percentage The percentage to check\n * @param maxError Maximum difference of pixels to still be considered the same size\n */\nexport default function isResizedTo(\n    image: HTMLImageElement,\n    percentage: number,\n    maxError: number = 1\n): boolean {\n    const editInfo = getEditInfoFromImage(image);\n    //Image selection will sometimes return an image which is currently hidden and wrapped. Use HTML attributes as backup\n    const visibleHeight = editInfo.heightPx || image.height;\n    const visibleWidth = editInfo.widthPx || image.width;\n    if (editInfo) {\n        const { width, height } = getTargetSizeByPercentage(editInfo, percentage);\n        return (\n            Math.abs(width - visibleWidth) < maxError && Math.abs(height - visibleHeight) < maxError\n        );\n    }\n    return false;\n}\n"]}