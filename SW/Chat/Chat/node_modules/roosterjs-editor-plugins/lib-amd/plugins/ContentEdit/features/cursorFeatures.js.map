{"version":3,"file":"cursorFeatures.js","sourceRoot":"","sources":["../../../../../../packages/roosterjs-editor-plugins/lib/plugins/ContentEdit/features/cursorFeatures.ts"],"names":[],"mappings":";;;;IAQA,IAAM,iBAAiB,GAA4C;QAC/D,IAAI,EAAE,+BAAuB;QAC7B,iBAAiB,EAAE,IAAI;QACvB,iBAAiB,EAAE,UAAC,KAAK,EAAE,MAAM,EAAE,UAAU;YACzC,IAAI,KAAK,GAAiB,IAAI,CAAC;YAC/B,IAAI,QAAkB,CAAC;YAEvB,IACI,CAAC,UAAU;gBACX,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,iBAAiB,EAAE,CAAC;gBACrC,CAAC,KAAK,CAAC,SAAS;gBAChB,CAAC,CAAC,QAAQ,GAAG,+BAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACtC,CAAC,MAAM,CAAC,qBAAqB,CAAC,QAAQ,CAAC,EACzC;gBACE,OAAO,KAAK,CAAC;aAChB;YAED,IAAM,GAAG,GAAG,IAAA,uCAAgB,EAAC,QAAQ,CAAC,OAAO,EAAE,WAAW,CAAC,IAAI,KAAK,CAAC;YACrE,IAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;YAEhC,OAAO,CAAC,CAAC,GAAG,IAAI,QAAQ,CAAC,KAAK,iBAAa,CAAC,IAAI,CAAC,GAAG,IAAI,QAAQ,CAAC,KAAK,kBAAc,CAAC,CAAC;QAC1F,CAAC;QACD,WAAW,EAAE,UAAA,KAAK;YACd,KAAK,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;QACpC,CAAC;QACD,eAAe,EAAE,CAAC,8BAAO,CAAC,QAAQ;KACrC,CAAC;IAEF;;OAEG;IACU,QAAA,cAAc,GAGvB;QACA,iBAAiB,EAAE,iBAAiB;KACvC,CAAC","sourcesContent":["import { Browser, getComputedStyle, Position } from 'roosterjs-editor-dom';\nimport { Keys } from 'roosterjs-editor-types';\nimport type {\n    BuildInEditFeature,\n    CursorFeatureSettings,\n    PluginKeyboardEvent,\n} from 'roosterjs-editor-types';\n\nconst NoCycleCursorMove: BuildInEditFeature<PluginKeyboardEvent> = {\n    keys: [Keys.LEFT, Keys.RIGHT],\n    allowFunctionKeys: true,\n    shouldHandleEvent: (event, editor, ctrlOrMeta) => {\n        let range: Range | null = null;\n        let position: Position;\n\n        if (\n            !ctrlOrMeta ||\n            !(range = editor.getSelectionRange()) ||\n            !range.collapsed ||\n            !(position = Position.getStart(range)) ||\n            !editor.isPositionAtBeginning(position)\n        ) {\n            return false;\n        }\n\n        const rtl = getComputedStyle(position.element, 'direction') == 'rtl';\n        const rawEvent = event.rawEvent;\n\n        return (!rtl && rawEvent.which == Keys.LEFT) || (rtl && rawEvent.which == Keys.RIGHT);\n    },\n    handleEvent: event => {\n        event.rawEvent.preventDefault();\n    },\n    defaultDisabled: !Browser.isChrome,\n};\n\n/**\n * @internal\n */\nexport const CursorFeatures: Record<\n    keyof CursorFeatureSettings,\n    BuildInEditFeature<PluginKeyboardEvent>\n> = {\n    noCycleCursorMove: NoCycleCursorMove,\n};\n"]}