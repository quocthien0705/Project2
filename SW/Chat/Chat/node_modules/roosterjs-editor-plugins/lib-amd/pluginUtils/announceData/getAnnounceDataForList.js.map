{"version":3,"file":"getAnnounceDataForList.js","sourceRoot":"","sources":["../../../../../packages/roosterjs-editor-plugins/lib/pluginUtils/announceData/getAnnounceDataForList.ts"],"names":[],"mappings":";;;IASA;;;;OAIG;IACH,SAAwB,sBAAsB,CAC1C,IAAwB,EACxB,EAAsB;QAEtB,IAAI,CAAC,IAAA,qCAAc,EAAC,EAAE,EAAE,eAAe,CAAC,EAAE;YACtC,OAAO,SAAS,CAAC;SACpB;QAED,IAAI,EAAE,IAAI,IAAA,qCAAc,EAAC,IAAI,EAAE,kBAAkB,CAAC,EAAE;YAChD,IAAM,KAAK,GAAG,IAAI,4BAAK,CAAC,IAAI,CAAC,CAAC;YAC9B,IAAM,aAAa,GAAG,KAAK,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;YACjD,IAAI,gBAAgB,GAAG,aAAa,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;YAC3E,QAAQ,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE;gBAC9B,KAAK,aAAa,CAAC;gBACnB,KAAK,aAAa,CAAC;gBACnB,KAAK,aAAa,CAAC;gBACnB,KAAK,aAAa;oBACd,gBAAgB,GAAG,IAAA,6CAAsB,EAAC,aAAa,GAAG,CAAC,CAAC,CAAC;oBAC7D,MAAM;gBACV,KAAK,aAAa,CAAC;gBACnB,KAAK,aAAa;oBACd,gBAAgB,GAAG,IAAA,6CAAsB,EAAC,aAAa,CAAC,CAAC;oBACzD,MAAM;aACb;YAED,OAAO;gBACH,cAAc,mCAAgD;gBAC9D,aAAa,EAAE,CAAC,gBAAgB,CAAC;aACpC,CAAC;SACL;aAAM,IAAI,IAAA,qCAAc,EAAC,IAAI,EAAE,kBAAkB,CAAC,EAAE;YACjD,OAAO;gBACH,cAAc,gCAA6C;aAC9D,CAAC;SACL;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAnCD,yCAmCC","sourcesContent":["import { KnownAnnounceStrings } from 'roosterjs-editor-types';\nimport {\n    convertDecimalsToAlpha,\n    convertDecimalsToRoman,\n    safeInstanceOf,\n    VList,\n} from 'roosterjs-editor-dom';\nimport type { AnnounceData } from 'roosterjs-editor-types';\n\n/**\n * @internal\n * Get the announce data for the current List\n * @returns announce data for list or undefined.\n */\nexport default function getAnnounceDataForList(\n    list: HTMLElement | null,\n    li: HTMLElement | null\n): AnnounceData | undefined {\n    if (!safeInstanceOf(li, 'HTMLLIElement')) {\n        return undefined;\n    }\n\n    if (li && safeInstanceOf(list, 'HTMLOListElement')) {\n        const vList = new VList(list);\n        const listItemIndex = vList.getListItemIndex(li);\n        let stringToAnnounce = listItemIndex == -1 ? '' : listItemIndex.toString();\n        switch (list.style.listStyleType) {\n            case 'lower-alpha':\n            case 'lower-latin':\n            case 'upper-alpha':\n            case 'upper-latin':\n                stringToAnnounce = convertDecimalsToAlpha(listItemIndex - 1);\n                break;\n            case 'lower-roman':\n            case 'upper-roman':\n                stringToAnnounce = convertDecimalsToRoman(listItemIndex);\n                break;\n        }\n\n        return {\n            defaultStrings: KnownAnnounceStrings.AnnounceListItemNumbering,\n            formatStrings: [stringToAnnounce],\n        };\n    } else if (safeInstanceOf(list, 'HTMLUListElement')) {\n        return {\n            defaultStrings: KnownAnnounceStrings.AnnounceListItemBullet,\n        };\n    }\n    return undefined;\n}\n"]}