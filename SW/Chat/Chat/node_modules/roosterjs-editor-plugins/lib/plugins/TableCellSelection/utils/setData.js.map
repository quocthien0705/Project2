{"version":3,"file":"setData.js","sourceRoot":"","sources":["../../../../../../packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/utils/setData.ts"],"names":[],"mappings":";;;AAAA,qDAAoD;AACpD,uDAAsD;AACtD,0CAAmD;AAInD;;GAEG;AACH,SAAgB,OAAO,CAAC,WAAiB,EAAE,KAA8B,EAAE,MAAe;IACtF,IAAM,GAAG,GAAG,MAAM,CAAC,kBAAkB,EAAE,CAAC;IACxC,IAAI,GAAG,EAAE;QACL,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,WAAW,IAAI,IAAA,iCAAe,EAAC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;QAE3E,IAAI,KAAK,CAAC,WAAW,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;YAC9C,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,kBAAkB,CAAC,+BAAmB,EAAE,KAAK,CAAC,WAAW,CAAC,CAAC;SACzF;QACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,KAAK,CAAC,UAAU,EAAE;YACzD,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,UAAU,CAAC;SACxC;KACJ;IAED,KAAK,CAAC,UAAU,GAAG,IAAA,mCAAgB,EAAC,MAAM,EAAE,KAAK,CAAC,WAAW,CAAqB,CAAC;IACnF,KAAK,CAAC,UAAU,GAAG,IAAA,iCAAe,EAAC,MAAM,EAAE,WAAmB,CAAC,CAAC;IAChE,KAAK,CAAC,WAAW,GAAG,IAAA,mCAAgB,EAAC,MAAM,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;AACnE,CAAC;AAhBD,0BAgBC","sourcesContent":["import { getCellAtCursor } from './getCellAtCursor';\nimport { getTableAtCursor } from './getTableAtCursor';\nimport { TABLE_CELL_SELECTOR } from '../constants';\nimport type { IEditor } from 'roosterjs-editor-types';\nimport type { TableCellSelectionState } from '../TableCellSelectionState';\n\n/**\n * @internal\n */\nexport function setData(eventTarget: Node, state: TableCellSelectionState, editor: IEditor) {\n    const pos = editor.getFocusedPosition();\n    if (pos) {\n        state.firstTarget = state.firstTarget || getCellAtCursor(editor, pos.node);\n\n        if (state.firstTarget.nodeType == Node.TEXT_NODE) {\n            state.firstTarget = editor.getElementAtCursor(TABLE_CELL_SELECTOR, state.firstTarget);\n        }\n        if (!editor.contains(state.firstTarget) && state.lastTarget) {\n            state.firstTarget = state.lastTarget;\n        }\n    }\n\n    state.firstTable = getTableAtCursor(editor, state.firstTarget) as HTMLTableElement;\n    state.lastTarget = getCellAtCursor(editor, eventTarget as Node);\n    state.targetTable = getTableAtCursor(editor, state.lastTarget);\n}\n"]}