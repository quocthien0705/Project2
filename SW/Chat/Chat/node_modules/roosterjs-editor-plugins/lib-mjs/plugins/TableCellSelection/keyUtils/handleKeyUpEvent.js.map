{"version":3,"file":"handleKeyUpEvent.js","sourceRoot":"","sources":["../../../../../../packages/roosterjs-editor-plugins/lib/plugins/TableCellSelection/keyUtils/handleKeyUpEvent.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,qBAAqB,CAAC;AACjD,OAAO,EAAE,gBAAgB,EAAE,MAAM,sBAAsB,CAAC;AAKxD,IAAM,kBAAkB,GAAG;;;;;;CAM1B,CAAC;AAEF;;GAEG;AACH,MAAM,UAAU,gBAAgB,CAC5B,KAAuB,EACvB,KAA8B,EAC9B,MAAe;IAET,IAAA,KAA+B,KAAK,CAAC,QAAQ,EAA3C,QAAQ,cAAA,EAAE,KAAK,WAAA,EAAE,OAAO,aAAmB,CAAC;IACpD,IACI,CAAC,QAAQ;QACT,CAAC,OAAO;QACR,KAAK,CAAC,WAAW;QACjB,CAAC,KAAK,CAAC,YAAY;QACnB,kBAAkB,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EACzC;QACE,IAAI,gBAAgB,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE;YAClC,MAAM,CAAC,eAAe,EAAE,CAAC;SAC5B;QACD,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;KAC7B;IACD,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;AAC/B,CAAC","sourcesContent":["import { clearState } from '../utils/clearState';\nimport { isCharacterValue } from 'roosterjs-editor-dom';\nimport { Keys } from 'roosterjs-editor-types';\nimport type { IEditor, PluginKeyUpEvent } from 'roosterjs-editor-types';\nimport type { TableCellSelectionState } from '../TableCellSelectionState';\n\nconst IGNORE_KEY_UP_KEYS = [\n    Keys.SHIFT,\n    Keys.ALT,\n    Keys.META_LEFT,\n    Keys.CTRL_LEFT,\n    Keys.PRINT_SCREEN,\n];\n\n/**\n * @internal\n */\nexport function handleKeyUpEvent(\n    event: PluginKeyUpEvent,\n    state: TableCellSelectionState,\n    editor: IEditor\n) {\n    const { shiftKey, which, ctrlKey } = event.rawEvent;\n    if (\n        !shiftKey &&\n        !ctrlKey &&\n        state.firstTarget &&\n        !state.preventKeyUp &&\n        IGNORE_KEY_UP_KEYS.indexOf(which) == -1\n    ) {\n        if (isCharacterValue(event.rawEvent)) {\n            editor.addUndoSnapshot();\n        }\n        clearState(state, editor);\n    }\n    state.preventKeyUp = false;\n}\n"]}