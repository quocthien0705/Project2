{"version":3,"file":"commitListChains.js","sourceRoot":"","sources":["../../../../packages/roosterjs-editor-api/lib/utils/commitListChains.ts"],"names":[],"mappings":";;;AACA,6DAAgD;AAIhD;;;;GAIG;AACH,SAAwB,gBAAgB,CAAC,MAAe,EAAE,MAAoB;IAC1E,IAAI,CAAA,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,MAAM,IAAG,CAAC,EAAE;QACpB,IAAM,KAAK,GAAG,MAAM,CAAC,iBAAiB,EAAE,CAAC;QACzC,IAAM,KAAK,GAAG,KAAK,IAAI,+BAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAChD,IAAM,GAAG,GAAG,KAAK,IAAI,+BAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC5C,IAAM,oCAAkC,GAAG,MAAM,CAAC,gBAAgB,mEAEjE,CAAC;QACF,IAAM,wBAAsB,GAAG,MAAM,CAAC,gBAAgB,2CAErD,CAAC;QAEF,MAAM,CAAC,OAAO,CAAC,UAAA,KAAK;YAChB,OAAA,KAAK,CAAC,MAAM,CAAC,oCAAkC,EAAE,wBAAsB,CAAC;QAAxE,CAAwE,CAC3E,CAAC;QAEF,IAAI,KAAK,IAAI,GAAG,EAAE;YACd,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;SAC7B;KACJ;AACL,CAAC;AApBD,mCAoBC;AAED;;;GAGG;AACU,QAAA,0BAA0B,GAAG,gBAAgB,CAAC","sourcesContent":["import { ExperimentalFeatures } from 'roosterjs-editor-types';\nimport { Position } from 'roosterjs-editor-dom';\nimport type { IEditor } from 'roosterjs-editor-types';\nimport type { VListChain } from 'roosterjs-editor-dom';\n\n/**\n * Commit changes of all list changes when experiment features are allowed\n * @param editor The Editor object\n * @param chains List chains to commit\n */\nexport default function commitListChains(editor: IEditor, chains: VListChain[]) {\n    if (chains?.length > 0) {\n        const range = editor.getSelectionRange();\n        const start = range && Position.getStart(range);\n        const end = range && Position.getEnd(range);\n        const shouldReuseAllAncestorListElements = editor.isFeatureEnabled(\n            ExperimentalFeatures.ReuseAllAncestorListElements\n        );\n        const shouldDisableListChain = editor.isFeatureEnabled(\n            ExperimentalFeatures.DisableListChain\n        );\n\n        chains.forEach(chain =>\n            chain.commit(shouldReuseAllAncestorListElements, shouldDisableListChain)\n        );\n\n        if (start && end) {\n            editor.select(start, end);\n        }\n    }\n}\n\n/**\n * @deprecated\n * Same with commitListChains, keep this export just for backward compatibility\n */\nexport const experimentCommitListChains = commitListChains;\n"]}