{"version":3,"file":"setOrderedListNumbering.js","sourceRoot":"","sources":["../../../../packages/roosterjs-editor-api/lib/format/setOrderedListNumbering.ts"],"names":[],"mappings":";;AAAA,kEAA6D;AAC7D,6DAA6D;AAI7D;;;;;GAKG;AACH,SAAwB,uBAAuB,CAC3C,MAAe,EACf,SAAwB,EACxB,WAAuB;IAAvB,4BAAA,EAAA,eAAuB;IAEvB,IAAA,4BAAkB,EACd,MAAM,EACN;QACI,MAAM,CAAC,KAAK,EAAE,CAAC;QACf,IAAM,OAAO,GAAG,MAAM,CAAC,kBAAkB,EAAE,CAAC;QAC5C,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE;YACZ,IAAM,KAAK,GAAG,IAAA,4CAAqB,EAC/B,OAAO,CAAC,CAAC,CAAC,EACV,KAAK,CAAC,uBAAuB,EAC7B,SAAS,CACZ,CAAC;YACF,IAAI,KAAK,EAAE;gBACP,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;gBACpC,KAAK,CAAC,SAAS,CACX,MAAM,CAAC,gBAAgB,mEAAmD,EAC1E,MAAM,CAAC,gBAAgB,2CAAuC,CACjE,CAAC;aACL;SACJ;IACL,CAAC,EACD,yBAAyB,CAC5B,CAAC;AACN,CAAC;AA3BD,0CA2BC","sourcesContent":["import formatUndoSnapshot from '../utils/formatUndoSnapshot';\nimport { createVListFromRegion } from 'roosterjs-editor-dom';\nimport { ExperimentalFeatures } from 'roosterjs-editor-types';\nimport type { IEditor } from 'roosterjs-editor-types';\n\n/**\n * Resets Ordered List Numbering back to the value of the parameter startNumber\n * @param editor The editor instance\n * @param separator The HTML element that indicates when to split the VList\n * @param startNumber The number of that the splitted list should start\n */\nexport default function setOrderedListNumbering(\n    editor: IEditor,\n    separator: HTMLLIElement,\n    startNumber: number = 1\n) {\n    formatUndoSnapshot(\n        editor,\n        () => {\n            editor.focus();\n            const regions = editor.getSelectedRegions();\n            if (regions[0]) {\n                const vList = createVListFromRegion(\n                    regions[0],\n                    false /*includeSiblingLists*/,\n                    separator\n                );\n                if (vList) {\n                    vList.split(separator, startNumber);\n                    vList.writeBack(\n                        editor.isFeatureEnabled(ExperimentalFeatures.ReuseAllAncestorListElements),\n                        editor.isFeatureEnabled(ExperimentalFeatures.DisableListChain)\n                    );\n                }\n            }\n        },\n        'setOrderedListNumbering'\n    );\n}\n"]}