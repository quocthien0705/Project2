{"version":3,"file":"CallControls.js","sourceRoot":"","sources":["../../../../../../../preprocess-dist/react-composites/src/composites/CallComposite/components/CallControls.tsx"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport { memoizeFunction, Stack, useTheme } from '@fluentui/react';\n/* @conditional-compile-remove(PSTN-calls) */ /* @conditional-compile-remove(one-to-n-calling) */ /* @conditional-compile-remove(close-captions) */ /* @conditional-compile-remove(raise-hand) */\nimport { IContextualMenuItem } from '@fluentui/react';\nimport { _isInLobbyOrConnecting } from '@internal/calling-component-bindings';\nimport { ControlBar, DevicesButton, ParticipantMenuItemsCallback } from '@internal/react-components';\nimport React, { useMemo } from 'react';\nimport { CallControlOptions } from '../types/CallControlOptions';\nimport { Camera } from './buttons/Camera';\nimport { Devices } from './buttons/Devices';\nimport { EndCall } from './buttons/EndCall';\nimport { Microphone } from './buttons/Microphone';\nimport { Participants } from './buttons/Participants';\nimport { ScreenShare } from './buttons/ScreenShare';\nimport { ContainerRectProps } from '../../common/ContainerRectProps';\n/* @conditional-compile-remove(PSTN-calls) */ /* @conditional-compile-remove(one-to-n-calling) */ /* @conditional-compile-remove(close-captions) */ /* @conditional-compile-remove(raise-hand) */\nimport { useLocale } from '../../localization';\n/* @conditional-compile-remove(PSTN-calls) */ /* @conditional-compile-remove(one-to-n-calling) */ /* @conditional-compile-remove(close-captions) */ /* @conditional-compile-remove(raise-hand) */\nimport { MoreButton } from '../../common/MoreButton';\n/* @conditional-compile-remove(PSTN-calls) */ /* @conditional-compile-remove(one-to-n-calling) */ /* @conditional-compile-remove(raise-hand) */\nimport { usePropsFor } from '../hooks/usePropsFor';\n/* @conditional-compile-remove(PSTN-calls) */ /* @conditional-compile-remove(one-to-n-calling) */ /* @conditional-compile-remove(close-captions) */ /* @conditional-compile-remove(raise-hand) */\nimport { buttonFlyoutIncreasedSizeStyles } from '../styles/Buttons.styles';\n/* @conditional-compile-remove(PSTN-calls) */ /* @conditional-compile-remove(rooms) */\nimport { useAdapter } from '../adapter/CallAdapterProvider';\nimport { isDisabled } from '../utils';\nimport { callControlsContainerStyles } from '../styles/CallPage.styles';\nimport { CommonCallAdapter } from '../adapter';\n/* @conditional-compile-remove(raise-hand) */\nimport { RaiseHand } from './buttons/RaiseHand';\n/* @conditional-compile-remove(raise-hand) */\nimport { RaiseHandButton, RaiseHandButtonProps } from '@internal/react-components';\nimport { _generateDefaultDeviceMenuProps } from '@internal/react-components';\nimport { CUSTOM_BUTTON_OPTIONS, generateCustomCallControlBarButton, generateCustomCallDesktopOverflowButtons, onFetchCustomButtonPropsTrampoline } from '../../common/ControlBar/CustomButton';\n/**\n * @private\n */\nexport type CallControlsProps = {\n  onPeopleButtonClicked?: () => void;\n  callInvitationURL?: string;\n  onFetchParticipantMenuItems?: ParticipantMenuItemsCallback;\n  options?: boolean | CallControlOptions;\n  /**\n   * Option to increase the height of the button flyout menu items from 36px to 48px.\n   * Recommended for mobile devices.\n   */\n  increaseFlyoutItemSize?: boolean;\n  isMobile?: boolean;\n  displayVertical?: boolean;\n};\n\n// Enforce a background color on control bar to ensure it matches the composite background color.\nconst controlBarStyles = memoizeFunction((background: string) => ({\n  root: {\n    background: background\n  }\n}));\nconst inferCallControlOptions = (mobileView: boolean, callControlOptions?: boolean | CallControlOptions): CallControlOptions => {\n  if (callControlOptions === false) {\n    return {};\n  }\n  const options = callControlOptions === true || callControlOptions === undefined ? {} : callControlOptions;\n  if (mobileView) {\n    // Set options to always not show screen share button for mobile\n    options.screenShareButton = false;\n  }\n  return options;\n};\n\n/**\n * @private\n */\nexport const CallControls = (props: CallControlsProps & ContainerRectProps): JSX.Element => {\n  const options: CallControlOptions = useMemo(() => inferCallControlOptions(!!props.isMobile, props.options), [props.isMobile, props.options]);\n\n  /* @conditional-compile-remove(PSTN-calls) */ /* @conditional-compile-remove(rooms) */\n  const adapter = useAdapter();\n\n  /* @conditional-compile-remove(PSTN-calls) */ /* @conditional-compile-remove(one-to-n-calling) */ /* @conditional-compile-remove(close-captions) */ /* @conditional-compile-remove(raise-hand) */\n  const localeStrings = useLocale();\n  /* @conditional-compile-remove(PSTN-calls) */ /* @conditional-compile-remove(one-to-n-calling) */ /* @conditional-compile-remove(close-captions) */ /* @conditional-compile-remove(raise-hand) */\n  const moreButtonStrings = useMemo(() => ({\n    label: localeStrings.strings.call.moreButtonCallingLabel,\n    tooltipOffContent: localeStrings.strings.callWithChat.moreDrawerButtonTooltip\n  }), [localeStrings]);\n  /* @conditional-compile-remove(raise-hand) */\n  const raiseHandButtonProps = (usePropsFor(RaiseHandButton) as RaiseHandButtonProps);\n  const devicesButtonProps = usePropsFor(DevicesButton);\n  let numberOfButtons = 0;\n  const screenShareButtonIsEnabled = isEnabled(options?.screenShareButton);\n  if (screenShareButtonIsEnabled) {\n    numberOfButtons++;\n  }\n  const microphoneButtonIsEnabled = isEnabled(options?.microphoneButton);\n  if (microphoneButtonIsEnabled) {\n    numberOfButtons++;\n  }\n  const cameraButtonIsEnabled = isEnabled(options?.cameraButton);\n  if (cameraButtonIsEnabled) {\n    numberOfButtons++;\n  }\n  if (isEnabled(options?.endCallButton)) {\n    numberOfButtons++;\n  }\n  const showParticipantsButtonInControlBar = isEnabled(options?.participantsButton);\n  if (showParticipantsButtonInControlBar) {\n    numberOfButtons++;\n  }\n  const moreButtonContextualMenuItems = (): IContextualMenuItem[] => {\n    const items: IContextualMenuItem[] = [];\n    if (props.isMobile && props.onPeopleButtonClicked && isEnabled(options?.participantsButton)) {\n      items.push({\n        key: 'peopleButtonKey',\n        text: localeStrings.component.strings.participantsButton.label,\n        onClick: () => {\n          if (props.onPeopleButtonClicked) {\n            props.onPeopleButtonClicked();\n          }\n        },\n        iconProps: {\n          iconName: 'ControlButtonParticipantsContextualMenuItem',\n          styles: {\n            root: {\n              lineHeight: 0\n            }\n          }\n        },\n        itemProps: {\n          styles: buttonFlyoutIncreasedSizeStyles\n        },\n        disabled: isDisabled(options?.participantsButton),\n        ['data-ui-id']: 'call-composite-more-menu-people-button'\n      });\n    }\n    return items;\n  };\n  const customDrawerButtons = useMemo(() => generateCustomCallDesktopOverflowButtons(onFetchCustomButtonPropsTrampoline(typeof options === 'object' ? options : undefined), typeof options === 'object' ? options.displayType : undefined), [options]);\n  const moreButtonMenuItems = moreButtonContextualMenuItems();\n  let showMoreButton = isEnabled(options?.moreButton) && moreButtonMenuItems.length > 0;\n  if (showMoreButton) {\n    numberOfButtons++;\n  }\n  const customButtons = useMemo(() => generateCustomCallControlBarButton(onFetchCustomButtonPropsTrampoline(options), options?.displayType), [options]);\n  numberOfButtons += React.Children.count(customButtons['primary']) + React.Children.count(customButtons['secondary']);\n  let showDevicesButtonInControlBar = isEnabled(options?.devicesButton);\n  if (showDevicesButtonInControlBar && (props.isMobile ? numberOfButtons < 5 : true)) {\n    numberOfButtons++;\n  } else {\n    showDevicesButtonInControlBar = false;\n    showMoreButton = isEnabled(options?.moreButton);\n  }\n  /* @conditional-compile-remove(raise-hand) */\n  const raiseHandButtonIsEnabled = isEnabled(options?.raiseHandButton);\n  /* @conditional-compile-remove(raise-hand) */\n  let showRaiseHandButtonInControlBar = raiseHandButtonIsEnabled;\n  /* @conditional-compile-remove(rooms) */\n  const role = adapter.getState().call?.role;\n  /* @conditional-compile-remove(rooms) */\n  const hideRaiseHandButtonInRoomsCall = adapter.getState().isRoomsCall && role && ['Consumer', 'Unknown'].includes(role);\n  /* @conditional-compile-remove(raise-hand) */\n  if (showRaiseHandButtonInControlBar && (props.isMobile ? numberOfButtons < 5 : true)) {\n    numberOfButtons++;\n  } else {\n    // If more button is not present but enabled then replace previous button (devices button) with more button\n    if (!showMoreButton && isEnabled(options?.moreButton)) {\n      showMoreButton = true;\n      showDevicesButtonInControlBar = false;\n    }\n    showRaiseHandButtonInControlBar = false;\n  }\n  if (!showDevicesButtonInControlBar) {\n    const devicesButtonMenu = _generateDefaultDeviceMenuProps(devicesButtonProps, localeStrings.component.strings.devicesButton);\n    moreButtonMenuItems.push({\n      key: 'devicesButtonKey',\n      text: localeStrings.component.strings.devicesButton.label,\n      iconProps: {\n        iconName: 'ControlButtonOptions',\n        styles: {\n          root: {\n            lineHeight: 0\n          }\n        }\n      },\n      subMenuProps: devicesButtonMenu,\n      ['data-ui-id']: 'call-composite-more-menu-devices-button'\n    });\n  }\n\n  /* @conditional-compile-remove(raise-hand) */\n  if (!showRaiseHandButtonInControlBar && /* @conditional-compile-remove(rooms) */!hideRaiseHandButtonInRoomsCall) {\n    moreButtonMenuItems.push({\n      key: 'raiseHandButtonKey',\n      text: raiseHandButtonProps.checked ? localeStrings.component.strings.raiseHandButton.onLabel : localeStrings.component.strings.raiseHandButton.offLabel,\n      onClick: () => {\n        if (raiseHandButtonProps.onToggleRaiseHand) {\n          raiseHandButtonProps.onToggleRaiseHand();\n        }\n      },\n      iconProps: {\n        iconName: 'RaiseHandContextualMenuItem',\n        styles: {\n          root: {\n            lineHeight: 0\n          }\n        }\n      },\n      itemProps: {\n        styles: buttonFlyoutIncreasedSizeStyles\n      },\n      disabled: isDisabled(options?.raiseHandButton),\n      ['data-ui-id']: 'call-composite-more-menu-raise-hand-button'\n    });\n  }\n\n  // Custom Buttons in More Button Menu should always be the last items pushed into the moreButtonMenuItems array\n  if (customDrawerButtons['primary']) {\n    customDrawerButtons['primary'].slice(props.isMobile ? CUSTOM_BUTTON_OPTIONS.MAX_PRIMARY_MOBILE_CUSTOM_BUTTONS : CUSTOM_BUTTON_OPTIONS.MAX_PRIMARY_DESKTOP_CUSTOM_BUTTONS).forEach(element => {\n      moreButtonMenuItems.push({\n        itemProps: {\n          styles: buttonFlyoutIncreasedSizeStyles\n        },\n        ...element\n      });\n    });\n  }\n  if (customDrawerButtons['secondary']) {\n    customDrawerButtons['secondary'].forEach(element => {\n      moreButtonMenuItems.push({\n        itemProps: {\n          styles: buttonFlyoutIncreasedSizeStyles\n        },\n        ...element\n      });\n    });\n  }\n  if (customDrawerButtons['overflow']) {\n    customDrawerButtons['overflow'].forEach(element => {\n      moreButtonMenuItems.push({\n        itemProps: {\n          styles: buttonFlyoutIncreasedSizeStyles\n        },\n        ...element\n      });\n    });\n  }\n  const theme = useTheme();\n\n  // when props.options is false then we want to hide the whole control bar.\n  if (props.options === false) {\n    return <></>;\n  }\n  return <Stack horizontalAlign=\"center\" className={callControlsContainerStyles}>\n      <Stack.Item>\n        {/*\n            Note: We use the layout=\"horizontal\" instead of dockedBottom because of how we position the\n            control bar. The control bar exists in a Stack below the MediaGallery. The MediaGallery is\n            set to grow and fill the remaining space not taken up by the ControlBar. If we were to use\n            dockedBottom it has position absolute and would therefore float on top of the media gallery,\n            occluding some of its content.\n         */}\n        <ControlBar layout={props.displayVertical ? 'vertical' : 'horizontal'} styles={controlBarStyles(theme.semanticColors.bodyBackground)}>\n          {microphoneButtonIsEnabled && <Microphone displayType={options?.displayType} disabled={isDisabled(options?.microphoneButton)} />}\n          {cameraButtonIsEnabled && <Camera displayType={options?.displayType} disabled={isDisabled(options?.cameraButton)} />}\n          {}\n          {/* @conditional-compile-remove(raise-hand) */showRaiseHandButtonInControlBar && /* @conditional-compile-remove(rooms) */!hideRaiseHandButtonInRoomsCall && <RaiseHand displayType={options?.displayType} />}\n          {screenShareButtonIsEnabled && <ScreenShare option={options?.screenShareButton} displayType={options?.displayType} disabled={isDisabled(options?.screenShareButton)} />}\n          {showParticipantsButtonInControlBar && <Participants option={options?.participantsButton} callInvitationURL={props.callInvitationURL} onFetchParticipantMenuItems={props.onFetchParticipantMenuItems} displayType={options?.displayType} increaseFlyoutItemSize={props.increaseFlyoutItemSize} isMobile={props.isMobile} disabled={isDisabled(options?.participantsButton)} />}\n          {showDevicesButtonInControlBar && <Devices displayType={options?.displayType} increaseFlyoutItemSize={props.increaseFlyoutItemSize} disabled={isDisabled(options?.devicesButton)} />}\n          {customButtons['primary']?.slice(0, props.isMobile ? CUSTOM_BUTTON_OPTIONS.MAX_PRIMARY_MOBILE_CUSTOM_BUTTONS : CUSTOM_BUTTON_OPTIONS.MAX_PRIMARY_DESKTOP_CUSTOM_BUTTONS).map((CustomButton, i) => {\n          return <CustomButton key={`primary-custom-button-${i}`}\n          // styles={commonButtonStyles}\n          showLabel={options?.displayType !== 'compact'} disableTooltip={props.isMobile} />;\n        })}\n          {/* @conditional-compile-remove(PSTN-calls) */ /* @conditional-compile-remove(one-to-n-calling) */ /* @conditional-compile-remove(close-captions) */ /* @conditional-compile-remove(raise-hand) */\n        showMoreButton && <MoreButton disableTooltip={props.isMobile} data-ui-id=\"common-call-composite-more-button\" strings={moreButtonStrings} menuIconProps={{\n          hidden: true\n        }} menuProps={{\n          items: moreButtonMenuItems\n        }} showLabel={options?.displayType !== 'compact'} />}\n          {isEnabled(options?.endCallButton) && <EndCall displayType={options?.displayType} />}\n        </ControlBar>\n      </Stack.Item>\n    </Stack>;\n};\nconst isEnabled = (option: unknown): boolean => option !== false;\n\n/** @private */\nexport const isRoomsCallTrampoline = (adapter: CommonCallAdapter): boolean => {\n  /* @conditional-compile-remove(rooms) */\n  return adapter.getState().isRoomsCall;\n  return false;\n};"]}