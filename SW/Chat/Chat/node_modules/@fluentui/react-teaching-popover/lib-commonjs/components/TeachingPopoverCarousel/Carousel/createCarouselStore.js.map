{"version":3,"sources":["createCarouselStore.js"],"sourcesContent":["export const createCarouselStore = ()=>{\n    let values = [];\n    let listeners = [];\n    const carouselStore = {\n        clear () {\n            values = [];\n            emitChange();\n        },\n        addValue (value) {\n            values = [\n                ...values,\n                value\n            ];\n            emitChange();\n        },\n        insertValue (value, prev) {\n            if (!prev) {\n                values = [\n                    value,\n                    ...values\n                ];\n            } else {\n                const pos = values.indexOf(prev);\n                values.splice(pos + 1, 0, value);\n                // Required to be defined as a 'new' array for useSyncExternalStore\n                values = [\n                    ...values\n                ];\n            }\n            emitChange();\n        },\n        removeValue (value) {\n            const pos = values.indexOf(value);\n            values.splice(pos, 1);\n            // Required to be defined as a 'new' array for useSyncExternalStore\n            values = [\n                ...values\n            ];\n            emitChange();\n        },\n        subscribe (listener) {\n            listeners = [\n                ...listeners,\n                listener\n            ];\n            return ()=>{\n                listeners = listeners.filter((l)=>l !== listener);\n            };\n        },\n        getSnapshot () {\n            return values;\n        }\n    };\n    function emitChange() {\n        for (const listener of listeners){\n            listener();\n        }\n    }\n    return carouselStore;\n};\n"],"names":["createCarouselStore","values","listeners","carouselStore","clear","emitChange","addValue","value","insertValue","prev","pos","indexOf","splice","removeValue","subscribe","listener","filter","l","getSnapshot"],"mappings":";;;;+BAAaA;;;eAAAA;;;AAAN,MAAMA,sBAAsB;IAC/B,IAAIC,SAAS,EAAE;IACf,IAAIC,YAAY,EAAE;IAClB,MAAMC,gBAAgB;QAClBC;YACIH,SAAS,EAAE;YACXI;QACJ;QACAC,UAAUC,KAAK;YACXN,SAAS;mBACFA;gBACHM;aACH;YACDF;QACJ;QACAG,aAAaD,KAAK,EAAEE,IAAI;YACpB,IAAI,CAACA,MAAM;gBACPR,SAAS;oBACLM;uBACGN;iBACN;YACL,OAAO;gBACH,MAAMS,MAAMT,OAAOU,OAAO,CAACF;gBAC3BR,OAAOW,MAAM,CAACF,MAAM,GAAG,GAAGH;gBAC1B,mEAAmE;gBACnEN,SAAS;uBACFA;iBACN;YACL;YACAI;QACJ;QACAQ,aAAaN,KAAK;YACd,MAAMG,MAAMT,OAAOU,OAAO,CAACJ;YAC3BN,OAAOW,MAAM,CAACF,KAAK;YACnB,mEAAmE;YACnET,SAAS;mBACFA;aACN;YACDI;QACJ;QACAS,WAAWC,QAAQ;YACfb,YAAY;mBACLA;gBACHa;aACH;YACD,OAAO;gBACHb,YAAYA,UAAUc,MAAM,CAAC,CAACC,IAAIA,MAAMF;YAC5C;QACJ;QACAG;YACI,OAAOjB;QACX;IACJ;IACA,SAASI;QACL,KAAK,MAAMU,YAAYb,UAAU;YAC7Ba;QACJ;IACJ;IACA,OAAOZ;AACX"}