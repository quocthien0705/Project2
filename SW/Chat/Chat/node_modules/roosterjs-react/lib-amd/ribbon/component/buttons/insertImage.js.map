{"version":3,"file":"insertImage.js","sourceRoot":"","sources":["../../../../../../packages/roosterjs-react/lib/ribbon/component/buttons/insertImage.ts"],"names":[],"mappings":";;;;IAMA,IAAM,SAAS,GAAsB;QACjC,GAAG,EAAE,OAAO;QACZ,UAAU,EAAE;YACR,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,SAAS;YACjB,OAAO,EAAE,MAAM;SAClB;KACJ,CAAC;IAEF;;;OAGG;IACU,QAAA,WAAW,GAA6C;QACjE,GAAG,EAAE,uBAAuB;QAC5B,eAAe,EAAE,cAAc;QAC/B,QAAQ,EAAE,QAAQ;QAClB,OAAO,EAAE,UAAA,MAAM;YACX,IAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;YACtC,IAAM,SAAS,GAAG,IAAA,oCAAa,EAAC,SAAS,EAAE,QAAQ,CAAqB,CAAC;YACzE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAErC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,EAAE;gBACjC,IAAI,SAAS,CAAC,KAAK,EAAE;oBACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBAC7C,IAAA,kCAAc,EAAC,MAAM,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;qBAC9C;iBACJ;YACL,CAAC,CAAC,CAAC;YAEH,IAAI;gBACA,SAAS,CAAC,KAAK,EAAE,CAAC;aACrB;oBAAS;gBACN,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;aACxC;QACL,CAAC;KACJ,CAAC","sourcesContent":["import { createElement } from 'roosterjs-editor-dom';\nimport { insertImage as insertImageApi } from 'roosterjs-editor-api';\nimport type RibbonButton from '../../type/RibbonButton';\nimport type { CreateElementData } from 'roosterjs-editor-types';\nimport type { InsertImageButtonStringKey } from '../../type/RibbonButtonStringKeys';\n\nconst FileInput: CreateElementData = {\n    tag: 'input',\n    attributes: {\n        type: 'file',\n        accept: 'image/*',\n        display: 'none',\n    },\n};\n\n/**\n * @internal\n * \"Insert image\" button on the format ribbon\n */\nexport const insertImage: RibbonButton<InsertImageButtonStringKey> = {\n    key: 'buttonNameInsertImage',\n    unlocalizedText: 'Insert image',\n    iconName: 'Photo2',\n    onClick: editor => {\n        const document = editor.getDocument();\n        const fileInput = createElement(FileInput, document) as HTMLInputElement;\n        document.body.appendChild(fileInput);\n\n        fileInput.addEventListener('change', () => {\n            if (fileInput.files) {\n                for (let i = 0; i < fileInput.files.length; i++) {\n                    insertImageApi(editor, fileInput.files[i]);\n                }\n            }\n        });\n\n        try {\n            fileInput.click();\n        } finally {\n            document.body.removeChild(fileInput);\n        }\n    },\n};\n"]}