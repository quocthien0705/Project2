{"version":3,"file":"EmojiPane.js","sourceRoot":"","sources":["../../../../../packages/roosterjs-react/lib/emoji/components/EmojiPane.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport EmojiIcon from './EmojiIcon';\nimport EmojiNavBar from './EmojiNavBar';\nimport EmojiStatusBar from './EmojiStatusBar';\nimport { Callout, DirectionalHint } from '@fluentui/react/lib/Callout';\nimport { CommonEmojis, EmojiFamilyKeys, EmojiList, MoreEmoji } from '../utils/emojiList';\nimport { css, KeyCodes, memoizeFunction } from '@fluentui/react/lib/Utilities';\nimport { FocusZone } from '@fluentui/react/lib/FocusZone';\nimport { getLocalizedString } from '../../common/index';\nimport { mergeStyleSets } from '@fluentui/react/lib/Styling';\nimport { searchEmojis } from '../utils/searchEmojis';\nimport { TextField } from '@fluentui/react/lib/TextField';\nimport { useTheme } from '@fluentui/react/lib/Theme';\nimport type { EmojiIconProps } from './EmojiIcon';\nimport type { EmojiNavBarProps } from './EmojiNavBar';\nimport type { EmojiStatusBarProps } from './EmojiStatusBar';\nimport type { ICalloutProps } from '@fluentui/react/lib/Callout';\nimport type { Emoji } from '../type/Emoji';\nimport type { EmojiStringKeys } from '../type/EmojiStringKeys';\nimport type { LocalizedStrings } from '../../common/index';\nimport type { ITextField } from '@fluentui/react/lib/TextField';\nimport type { Theme } from '@fluentui/react/lib/Theme';\n\n// \"When a div contains an element that is bigger (either taller or wider) than the parent and has the property\n// overflow-x or overflow-y set to any value, then it can receive the focus.\"\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1069739\nconst TabIndexForFirefoxBug = -1;\nconst EmojisPerRow = 7;\nconst EmojiVisibleRowCount = 5;\nconst EmojiVisibleWithoutNavBarRowCount = 6;\nconst EmojiHeightPx = 40;\nconst VerticalDirectionKeys: number[] = [KeyCodes.up, KeyCodes.down];\nconst DirectionKeys: number[] = [\n    KeyCodes.left,\n    KeyCodes.right,\n    KeyCodes.up,\n    KeyCodes.down,\n    KeyCodes.home,\n    KeyCodes.end,\n];\n\nconst TooltipCalloutProps: ICalloutProps = {\n    isBeakVisible: true,\n    beakWidth: 16,\n    gapSpace: 0,\n    setInitialFocus: true,\n    doNotLayer: false,\n    directionalHint: DirectionalHint.bottomCenter,\n};\n\n/**\n * @internal\n * Types of emoji pane size\n */\n// eslint-disable-next-line etc/no-const-enum\nexport const enum EmojiPaneMode {\n    Quick,\n    Partial,\n    Full,\n}\n\n/**\n * @internal\n * Types of emoji Navigation direction\n */\n// eslint-disable-next-line etc/no-const-enum\nexport const enum EmojiPaneNavigateDirection {\n    Horizontal,\n    Vertical,\n}\n\n/**\n * @internal\n * Emoji Pane data\n */\nexport interface EmojiPaneState {\n    index: number;\n    mode: EmojiPaneMode;\n    currentEmojiList: Emoji[];\n    currentFamily: EmojiFamilyKeys;\n    search: string;\n    searchInBox: string;\n}\n\n/**\n * @internal\n * Emoji Pane customizable data\n */\nexport interface EmojiPaneProps {\n    searchDisabled?: boolean;\n    hideStatusBar?: boolean;\n    navBarProps?: Partial<EmojiNavBarProps>;\n    statusBarProps?: Partial<EmojiStatusBarProps>;\n    emojiIconProps?: Partial<EmojiIconProps>;\n    searchBoxString?: LocalizedStrings<EmojiStringKeys>;\n    onSelect: (emoji: Emoji, wordBeforeCursor: string) => void;\n    baseId: number;\n    strings: Record<string, string>;\n}\n\nconst AriaAttributes = {\n    ActiveDescendant: 'aria-activedescendant',\n    AutoComplete: 'aria-autocomplete',\n    Controls: 'aria-controls',\n    Expanded: 'aria-expanded',\n    HasPopup: 'aria-haspopup',\n    Owns: 'aria-owns',\n    Pressed: 'aria-pressed',\n};\n\n/**\n * @internal\n * Emoji pane component functions\n */\nexport interface EmojiPane {\n    navigate: (change: number, direction?: EmojiPaneNavigateDirection) => number;\n    getEmojiElementIdByIndex: (index: number) => string | null;\n    getSelectedEmoji: () => Emoji;\n    showFullPicker: (fullSearchText: string) => void;\n    setSearch: (value: string) => void;\n    normalizeSearchText: (text: string, colonIncluded: boolean) => string;\n    getSearchResult: (searchValue: string, mode: EmojiPaneMode) => Emoji[];\n    getEmojiIconId: (emoji: Emoji) => string;\n}\n\nconst EmojiPane = React.forwardRef(function EmojiPaneFunc(\n    props: EmojiPaneProps,\n    ref: React.Ref<EmojiPane>\n) {\n    let searchBox: ITextField;\n    let emojiBody: HTMLElement;\n    let input: HTMLInputElement;\n\n    const [index, setIndex] = React.useState<number>(0);\n    const [mode, setMode] = React.useState<EmojiPaneMode>(EmojiPaneMode.Quick);\n    const [currentEmojiList, setCurrentEmojiList] = React.useState<Emoji[]>(CommonEmojis);\n    const [currentFamily, setCurrentFamily] = React.useState<EmojiFamilyKeys>(\n        EmojiFamilyKeys.People\n    );\n    const [search, setSearchString] = React.useState<string>(':');\n    const [searchInBox, setSearchInBox] = React.useState<string>('');\n\n    const theme = useTheme();\n    const classNames = getEmojiPaneClassName(theme);\n    const listId = `EmojiPane${props.baseId}`;\n\n    const navigate = React.useCallback(\n        (change: number, direction?: EmojiPaneNavigateDirection): number => {\n            if (!direction) {\n                direction = EmojiPaneNavigateDirection.Horizontal;\n            }\n\n            if (direction === EmojiPaneNavigateDirection.Vertical && index !== -1) {\n                change *= EmojisPerRow;\n            }\n\n            const newIndex = index + change;\n            const length = currentEmojiList.length;\n            if (newIndex >= 0 && newIndex < length) {\n                setIndex(newIndex);\n                return newIndex;\n            }\n\n            return -1;\n        },\n        [index]\n    );\n\n    const normalizeSearchText = React.useCallback(\n        (text: string, colonIncluded: boolean): string => {\n            if (text == null) {\n                return '';\n            }\n\n            if (colonIncluded) {\n                text = text.substr(1);\n            }\n            return text.trim();\n        },\n        []\n    );\n\n    const getEmojiElementIdByIndex = React.useCallback(\n        (index: number): string | null => {\n            const emoji = currentEmojiList[index];\n            if (emoji) {\n                return getEmojiIconId(emoji);\n            }\n\n            return null;\n        },\n        [currentEmojiList]\n    );\n\n    const getSelectedEmoji = React.useCallback((): Emoji => {\n        return currentEmojiList[index];\n    }, [currentEmojiList, index]);\n\n    const showFullPicker = React.useCallback(\n        (fullSearchText: string): void => {\n            const normalizedSearchValue = normalizeSearchText(fullSearchText, true);\n            const newMode =\n                normalizedSearchValue.length === 0 ? EmojiPaneMode.Full : EmojiPaneMode.Partial;\n            setIndex(newMode === EmojiPaneMode.Full ? -1 : 0);\n            setMode(newMode);\n            setCurrentEmojiList(getSearchResult(normalizedSearchValue, newMode));\n            setSearchString(fullSearchText);\n            setSearchInBox(normalizedSearchValue);\n        },\n        [mode]\n    );\n\n    const setSearch = React.useCallback(\n        (value: string): void => {\n            const normalizedSearchValue = normalizeSearchText(value, false);\n            setIndex(0);\n            setCurrentEmojiList(getSearchResult(normalizedSearchValue, mode));\n            setSearchString(value);\n        },\n        [index, search, currentEmojiList]\n    );\n\n    const getSearchResult = React.useCallback(\n        (searchValue: string, mode: EmojiPaneMode): Emoji[] => {\n            const isQuickMode = mode === EmojiPaneMode.Quick;\n            if (!searchValue) {\n                return isQuickMode ? currentEmojiList : EmojiList[currentFamily];\n            }\n\n            const emojiList = searchEmojis(searchValue, props.strings);\n            return isQuickMode ? emojiList.slice(0, 5).concat([MoreEmoji]) : emojiList;\n        },\n        [mode, currentFamily, currentEmojiList]\n    );\n\n    const getEmojiIconId = React.useCallback(\n        (emoji: Emoji) => (emoji ? `${listId}-${emoji.key}` : ''),\n        [listId]\n    );\n\n    React.useImperativeHandle(\n        ref,\n        () => ({\n            navigate,\n            getEmojiElementIdByIndex,\n            showFullPicker,\n            getSearchResult,\n            setSearch,\n            getSelectedEmoji,\n            normalizeSearchText,\n            getEmojiIconId,\n        }),\n        [\n            navigate,\n            getEmojiElementIdByIndex,\n            showFullPicker,\n            getSearchResult,\n            setSearch,\n            getEmojiIconId,\n            getSelectedEmoji,\n            normalizeSearchText,\n        ]\n    );\n\n    const renderQuickPicker = (\n        props: EmojiPaneProps,\n        index: number,\n        currentEmojiList: Emoji[]\n    ): JSX.Element => {\n        const { strings } = props;\n        const selectedEmoji = getSelectedEmoji();\n        const target = selectedEmoji ? `#${getEmojiIconId(selectedEmoji)}` : undefined;\n        const content = selectedEmoji?.description ? strings[selectedEmoji.description] : undefined;\n        const emojiList = renderCurrentEmojiIcons(index, currentEmojiList);\n        // note: we're using a callout since TooltipHost does not support manual trigger, and we need to show the tooltip since quick picker is shown\n        // as an autocomplete menu (false focus based on transferring navigation keyboard event)\n        return (\n            <div id={listId} role=\"listbox\">\n                {emojiList}\n                <div\n                    id={listId}\n                    role=\"listbox\"\n                    className={css(classNames.quickPicker, classNames.roosterEmojiPane)}>\n                    <Callout\n                        {...TooltipCalloutProps}\n                        role=\"tooltip\"\n                        target={target}\n                        hidden={!content || !emojiList}\n                        className={classNames.tooltip}>\n                        {content}\n                    </Callout>\n                </div>\n            </div>\n        );\n    };\n\n    const renderFullPicker = (\n        props: EmojiPaneProps,\n        index: number,\n        searchInBox: string,\n        currentFamily: EmojiFamilyKeys,\n        currentEmojiList: Emoji[]\n    ): JSX.Element => {\n        const { searchDisabled, searchBoxString } = props;\n        const emojiId = getEmojiIconId(getSelectedEmoji());\n        const autoCompleteAttributes = {\n            [AriaAttributes.AutoComplete]: 'list',\n            [AriaAttributes.Expanded]: 'true',\n            [AriaAttributes.HasPopup]: 'listbox',\n            [AriaAttributes.Owns]: listId,\n        };\n        if (emojiId) {\n            autoCompleteAttributes[AriaAttributes.ActiveDescendant] = emojiId;\n        }\n\n        return (\n            <div className={classNames.roosterEmojiPane}>\n                {!searchDisabled && (\n                    <TextField\n                        role=\"combobox\"\n                        componentRef={ref => searchRefCallback(ref)}\n                        value={searchInBox}\n                        onChange={onSearchChange}\n                        inputClassName={classNames.emojiTextInput}\n                        onKeyPress={onSearchKeyPress}\n                        onKeyDown={onSearchKeyDown}\n                        onFocus={onSearchFocus}\n                        placeholder={getLocalizedString(\n                            searchBoxString,\n                            'emojiSearchPlaceholder',\n                            'Search...'\n                        )}\n                        ariaLabel={getLocalizedString(\n                            searchBoxString,\n                            'emojiSearchInputAriaLabel',\n                            'Search...'\n                        )}\n                        {...autoCompleteAttributes}\n                    />\n                )}\n                {mode === EmojiPaneMode.Full\n                    ? renderFullList(props, index, currentFamily, currentEmojiList)\n                    : renderPartialList(props, index, currentEmojiList)}\n            </div>\n        );\n    };\n\n    const onSearchFocus = (e: React.FocusEvent<HTMLInputElement>): void => {\n        input = e.target as HTMLInputElement;\n    };\n\n    const onSearchKeyPress = (e: React.KeyboardEvent<HTMLInputElement>): void => {\n        if (!e || e.which !== KeyCodes.enter) {\n            return;\n        }\n\n        if (index >= 0 && currentEmojiList && currentEmojiList.length > 0) {\n            onSelect(e, currentEmojiList[index]);\n        }\n    };\n\n    const onSearchKeyDown = (e: React.KeyboardEvent<HTMLInputElement>): void => {\n        if (!e || DirectionKeys.indexOf(e.which) < 0) {\n            return;\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        if (e.which === KeyCodes.home) {\n            setIndex(0);\n            emojiBody.scrollTop = 0;\n            return;\n        }\n        if (e.which === KeyCodes.end) {\n            setIndex(currentEmojiList.length - 1);\n            emojiBody.scrollTop = emojiBody.scrollHeight; // scrollHeight will be larger than max\n            return;\n        }\n\n        const direction =\n            VerticalDirectionKeys.indexOf(e.which) < 0\n                ? EmojiPaneNavigateDirection.Horizontal\n                : EmojiPaneNavigateDirection.Vertical;\n        const newIndex = navigate(\n            e.which === KeyCodes.left || e.which === KeyCodes.up ? -1 : 1,\n            direction\n        );\n        if (newIndex > -1) {\n            const visibleRowCount =\n                mode === EmojiPaneMode.Full\n                    ? EmojiVisibleRowCount\n                    : EmojiVisibleWithoutNavBarRowCount;\n            const currentRow = Math.floor(newIndex / EmojisPerRow);\n            const visibleTop = emojiBody.scrollTop;\n            const visibleBottom = visibleTop + visibleRowCount * EmojiHeightPx;\n            const currentRowTop = currentRow * EmojiHeightPx;\n            const currentRowBottom = currentRowTop + EmojiHeightPx;\n            if (visibleTop <= currentRowTop && visibleBottom >= currentRowBottom) {\n                return; // row is visible, so exit\n            }\n\n            emojiBody.scrollTop = currentRow * EmojiHeightPx;\n        }\n    };\n\n    const renderCurrentEmojiIcons = (index: number, currentEmojiList: Emoji[]): JSX.Element[] => {\n        const { strings } = props;\n        return currentEmojiList.map((emoji, emojiIndex) => (\n            <EmojiIcon\n                strings={strings}\n                id={getEmojiIconId(emoji)}\n                key={emoji.key}\n                onMouseOver={() => setIndex(emojiIndex)}\n                onFocus={() => setIndex(emojiIndex)}\n                emoji={emoji}\n                classNames={classNames}\n                isSelected={index === emojiIndex}\n                onClick={e => onSelect(e, emoji)}\n                aria-posinset={index + 1}\n                aria-setsize={currentEmojiList.length}\n            />\n        ));\n    };\n\n    const renderPartialList = (\n        props: EmojiPaneProps,\n        index: number,\n        currentEmojiList: Emoji[]\n    ): JSX.Element => {\n        const { strings, hideStatusBar, statusBarProps } = props;\n        const hasResult = currentEmojiList && currentEmojiList.length > 0;\n\n        return (\n            <div>\n                <div\n                    className={classNames.partialList}\n                    data-is-scrollable={true}\n                    tabIndex={TabIndexForFirefoxBug}\n                    ref={onEmojiBodyRef}>\n                    <FocusZone\n                        id={listId}\n                        role=\"listbox\"\n                        className={classNames.fullListContent}\n                        ref={focusZoneRefCallback}>\n                        {renderCurrentEmojiIcons(index, currentEmojiList)}\n                    </FocusZone>\n                </div>\n                {!hideStatusBar && (\n                    <EmojiStatusBar\n                        classNames={classNames}\n                        strings={strings}\n                        {...statusBarProps}\n                        hasResult={hasResult}\n                        emoji={getSelectedEmoji()}\n                    />\n                )}\n            </div>\n        );\n    };\n\n    const renderFullList = (\n        props: EmojiPaneProps,\n        index: number,\n        currentFamily: EmojiFamilyKeys,\n        currentEmojiList: Emoji[]\n    ): JSX.Element => {\n        const { strings, hideStatusBar, navBarProps, statusBarProps } = props;\n\n        const hasResult = currentEmojiList && currentEmojiList.length > 0;\n\n        return (\n            <div className={classNames.fullList}>\n                <div\n                    className={classNames.fullListBody}\n                    data-is-scrollable={true}\n                    tabIndex={TabIndexForFirefoxBug}\n                    ref={onEmojiBodyRef}>\n                    <EmojiNavBar\n                        strings={strings}\n                        {...navBarProps}\n                        onClick={pivotClick}\n                        currentSelected={currentFamily}\n                        getTabId={getTabId}\n                        classNames={classNames}\n                    />\n                    <div role=\"tabpanel\" aria-labelledby={getTabId(currentFamily)}>\n                        <div>\n                            <FocusZone\n                                id={listId}\n                                role=\"listbox\"\n                                className={classNames.fullListContent}\n                                ref={focusZoneRefCallback}>\n                                {renderCurrentEmojiIcons(index, currentEmojiList)}\n                            </FocusZone>\n                        </div>\n                    </div>\n                </div>\n\n                {!hideStatusBar && (\n                    <EmojiStatusBar\n                        classNames={classNames}\n                        strings={strings}\n                        {...statusBarProps}\n                        hasResult={hasResult}\n                        emoji={getSelectedEmoji()}\n                    />\n                )}\n            </div>\n        );\n    };\n\n    const onEmojiBodyRef = (ref: HTMLDivElement) => {\n        emojiBody = ref;\n    };\n\n    const pivotClick = (selected: string): void => {\n        const currentFamily = selected as EmojiFamilyKeys;\n        setCurrentEmojiList(EmojiList[currentFamily]);\n        setCurrentFamily(currentFamily);\n    };\n\n    const getTabId = (itemKey: EmojiFamilyKeys): string => {\n        return `family_${itemKey}_${props.baseId}`;\n    };\n\n    const searchRefCallback = (ref: ITextField | null): void => {\n        if (ref) {\n            searchBox = ref;\n            if (searchBox?.value) {\n                searchBox.focus();\n                searchBox.setSelectionStart(searchBox.value.length);\n            }\n        }\n    };\n\n    const focusZoneRefCallback = (ref: FocusZone): void => {\n        if (props.searchDisabled && ref) {\n            ref.focus();\n        }\n\n        if (input) {\n            // make sure to announce the active descending after the focus zone containing the emojis is ready\n            input.removeAttribute(AriaAttributes.ActiveDescendant);\n            const emojiId = getEmojiIconId(getSelectedEmoji());\n            // we need to delay so NVDA will announce the first selection\n            if (emojiId) {\n                setTimeout(() => input.setAttribute(AriaAttributes.ActiveDescendant, emojiId), 0);\n            }\n        }\n    };\n\n    const onSearchChange = (_: any, newValue?: string): void => {\n        if (typeof newValue === 'string') {\n            const normalizedSearchValue = normalizeSearchText(newValue, false);\n            const newMode =\n                normalizedSearchValue.length === 0 ? EmojiPaneMode.Full : EmojiPaneMode.Partial;\n            setIndex(newMode === EmojiPaneMode.Full ? -1 : 0);\n            setCurrentEmojiList(getSearchResult(normalizedSearchValue, mode));\n            setSearchInBox(newValue);\n            setMode(newMode);\n        }\n    };\n\n    const onSelect = (\n        e: React.MouseEvent<EventTarget> | React.KeyboardEvent<HTMLInputElement>,\n        emoji: Emoji\n    ): void => {\n        e.stopPropagation();\n        e.preventDefault();\n        if (props.onSelect) {\n            props.onSelect(emoji, search);\n        }\n    };\n\n    const renderPane = (\n        props: EmojiPaneProps,\n        index: number,\n        searchInBox: string,\n        currentFamily: EmojiFamilyKeys,\n        currentEmojiList: Emoji[]\n    ) => {\n        return mode === EmojiPaneMode.Quick\n            ? renderQuickPicker(props, index, currentEmojiList)\n            : renderFullPicker(props, index, searchInBox, currentFamily, currentEmojiList);\n    };\n\n    return <>{renderPane(props, index, searchInBox, currentFamily, currentEmojiList)}</>;\n});\n\n/**\n * @internal\n * Emoji pane component\n */\nexport function showEmojiPane(\n    onSelect: (emoji: Emoji, wordBeforeCursor: string) => void,\n    strings: Record<string, string>,\n    paneRef: React.RefObject<EmojiPane>,\n    baseId: number,\n    searchBoxString?: LocalizedStrings<EmojiStringKeys>\n) {\n    return (\n        <EmojiPane\n            ref={paneRef}\n            baseId={baseId}\n            searchBoxString={searchBoxString}\n            strings={strings}\n            onSelect={onSelect}></EmojiPane>\n    );\n}\n\nconst calcMaxHeight = () => {\n    const buttonHeight = 40;\n    const rowsOfIcons = 6; // including family bar if shown\n    const bottomPaddingForContent = 5;\n    const maxHeightForContent = rowsOfIcons * buttonHeight + bottomPaddingForContent;\n    return maxHeightForContent.toString() + 'px';\n};\n\nconst calcPaneWidth = () => {\n    const buttonWidth = 40;\n    const pivotItemCount = 7;\n    const paneHorizontalPadding = 1;\n    const paneWidth = buttonWidth * pivotItemCount + 2 * paneHorizontalPadding;\n    return paneWidth.toString() + 'px';\n};\n\nconst getEmojiPaneClassName = memoizeFunction((theme: Theme) => {\n    const palette = theme.palette;\n    return mergeStyleSets({\n        quickPicker: {\n            overflowY: 'hidden',\n            ':after': {\n                content: '',\n                position: 'absolute',\n                left: '0px',\n                top: '0px',\n                bottom: '0px',\n                right: '0px',\n                zIndex: 1,\n                borderWidth: '1px',\n                borderStyle: 'solid',\n                borderColor: 'rgb(255, 255, 255)',\n                borderImage: 'initial',\n                outline: 'rgb(102, 102, 102) solid 1px',\n            },\n        },\n\n        tooltip: {\n            padding: '8px',\n        },\n\n        emojiTextInput: {\n            padding: '6px',\n        },\n\n        partialList: {\n            maxHeight: calcMaxHeight(),\n            overflow: 'hidden',\n            overflowY: 'scroll',\n        },\n\n        fullListContent: {\n            width: calcPaneWidth(),\n        },\n\n        fullListBody: {\n            maxHeight: calcMaxHeight(),\n            overflow: 'hidden',\n            overflowY: 'scroll',\n            height: calcMaxHeight(),\n        },\n\n        fullList: {\n            position: 'relative',\n        },\n\n        roosterEmojiPane: {\n            padding: '1px',\n            background: palette.white,\n        },\n\n        emoji: {\n            fontSize: '18px',\n            width: '40px',\n            height: '40px',\n            border: '0',\n            position: 'relative',\n            background: palette.white,\n            transition: 'backgorund 0.5s ease-in-out',\n        },\n\n        emojiSelected: {\n            background: palette.neutralLight,\n        },\n\n        navBar: {\n            top: '-1px',\n            zIndex: 10,\n            position: 'sticky',\n        },\n\n        navBarTooltip: {\n            display: 'inline-block',\n        },\n\n        navBarButton: {\n            height: '40px',\n            width: '40px',\n            border: '0',\n            borderBottom: 'solid 1px',\n            padding: 0,\n            marginBottom: 0,\n            display: 'inline-block',\n            color: palette.themeDark,\n            background: palette.white,\n            '&:hover': {\n                cursor: 'default',\n            },\n        },\n\n        selected: {\n            borderBottom: '2px solid',\n            borderBottomColor: palette.themeDark,\n        },\n\n        statusBar: {\n            borderTop: 'solid 1px',\n            height: '50px',\n            overflow: 'hidden',\n            position: 'relative',\n            background: palette.white,\n        },\n\n        statusBarIcon: {\n            padding: '4px',\n            fontSize: '25px',\n            display: 'inline-block',\n            fontStyle: 'normal',\n            fontWeight: 'normal',\n            lineHeight: '40px',\n        },\n\n        statusBarDetailsContainer: {\n            padding: '0 4px',\n            lineHeight: '50px',\n            position: 'absolute',\n            display: 'inline-block',\n            left: '40px',\n            right: '0',\n            top: '0',\n        },\n\n        statusBarDetails: {\n            fontWeight: 'bold',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n        },\n\n        statusBarNoResultDetailsContainer: {\n            lineHeight: '50px',\n            position: 'absolute',\n            display: 'inline-block',\n            top: '0',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            left: '0',\n            padding: '0 8px',\n        },\n    });\n});\n"]}